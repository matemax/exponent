\documentclass[16pt]{article}

%----------------------------------------------------------------------
% Layout scope begin
%----------------------------------------------------------------------

\evensidemargin=-1cm \oddsidemargin=-1cm \textwidth=18cm
\topmargin=-2cm \textheight=24cm % У тебя была слишком большая высота текста. Настолько большая, что не влезала нумерация страниц, да что уж там, даже текст не умещался на страницу. Вообще поменьше редактируй вывод на страницу, особенно до завершения идейной части
\renewcommand{\baselinestretch}{1.01}
\parskip=3mm

%----------------------------------------------------------------------
% Layout scope end
%----------------------------------------------------------------------

%----------------------------------------------------------------------
% Usepackage scope begin
%----------------------------------------------------------------------

\usepackage[dvipsnames]{xcolor}% я добавил пакет с цветами для текста
\usepackage[T2A]{fontenc}
\usepackage{amsfonts, amsmath, amsthm, amssymb}
\usepackage{mathtext}
\usepackage[cp1251]{inputenc}
\usepackage[russian]{babel}

%----------------------------------------------------------------------
% Usepackage scope end
%----------------------------------------------------------------------

%----------------------------------------------------------------------
% Newcommand scope begin
%----------------------------------------------------------------------


% Я добавил цвета, чтобы различать комментарии от текста
\newcommand{\red}[1]{{\color{red}#1}}
\newcommand{\blue}[1]{{\color{blue}#1}}
\newcommand{\green}[1]{{\color{OliveGreen}#1}}
\newcommand{\orange}[1]{{\color{orange}#1}}


\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator*{\opluqs}{\oplus}





\renewcommand{\le}{\leqslant} % Не очень это культурно переопределять общеиспользуемые команды
\renewcommand{\ge}{\geqslant} % Вообще по возможности переопределяй как можно меньше


%----------------------------------------------------------------------
% Newcommand scope end
%----------------------------------------------------------------------


%----------------------------------------------------------------------
% Theorem scopes begin
%----------------------------------------------------------------------
% Всегда используй полные имена окружений, иначе это не возможно читать
% Все объявления делай до начала документа
% Со звездочкой - не нумеруются.
% [theorem] -- означает, что нумерация будет сплошная по счетчику от окружения theorem

% Стиль для теорем. Заголовок жирным, текст курсивом.
\theoremstyle{plain}
\newtheorem{theorem}{Теорема}
\newtheorem{lemma}[theorem]{Лемма}
\newtheorem{proposition}[theorem]{Предложение}
\newtheorem{corollary}[theorem]{Следствие}

\newtheorem*{theorem*}{Теорема}
\newtheorem*{lemma*}{Лемма}
\newtheorem*{proposition*}{Предложение}
\newtheorem*{corollary*}{Следствие}

% Стиль для определений. Заголовок жирным, текст обычным.
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Определение}
\newtheorem{example}[theorem]{Пример}

\newtheorem*{definition*}{Определение}
\newtheorem*{example*}{Пример}

% Стиль для замечаний. Заголовок курсивом, текст обычным.
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Замечание}

\newtheorem*{remark*}{Замечание}

%----------------------------------------------------------------------
% Theorem scope end
%----------------------------------------------------------------------


%----------------------------------------------------------------------
% Frontmatter scope begin
%----------------------------------------------------------------------



%----------------------------------------------------------------------
% Frontmatter scope end
%----------------------------------------------------------------------

\begin{document}
\section{Основные понятия, определения, обозначения}
Дадим несколько необходимых определений и обозначений. Мы будем считать, что мы работаем над алгебраически замкнутым полем ${K}$ нулевой характеристики, которое имеет мощность более чем счётную. Над этим полем зададим тождественно нулевое дифференцирование (определение ниже).

\begin{definition}
Кольцо $\mathcal{R}$ называется алгеброй Ритта, если оно является алгеброй над $ \mathbb{Q} $.
\end{definition}

\begin{definition}
Отображение $\delta$ кольца $\mathcal{R}$ называется дифференцированием, если для любых элементов $a$ и $b$ кольца $\mathcal{R}$:

\begin{enumerate}
  \item $\delta(a+b)= \delta(a)+\delta(b)$~--– линейность
  \item $\delta(ab)=a\delta(b)+b\delta(a)$~--- правило Лейбница
\end{enumerate}

\end{definition}

\begin{definition}
Кольцо $\mathcal{R}$ называется обыкновенным дифференциальным кольцом, если на нем задано дифференцирование.
\end{definition}

\begin{definition}
Кольцом дифференциальных многочленов от одной неизвестной над дифференциальным полем называется кольцо многочленов от счетного числа переменных ${K}[y_0,\ldots,y_n,\ldots]$, обозначается ${K}\{y\}$, с дифференцированием $\delta$ таким, что $\delta(y_i)=y_{i+1}$ и  $\delta$ ограниченное на ${K}$ совпадает с дифференцированием поля. Дифференцирование $\delta$ однозначно продолжается на все кольцо по линейности и правилу Лейбница.
\end{definition}

В дальнейшем, для удобства, мы будем обозначать $n$-ю производную многочлена $f$ как $\delta^n(f)=f^{(n)}$. Так же нам потребуется понятие порядка многочлена и сепаранты.
\begin{definition}
Пусть $M = \prod\limits_{i=0}^ny_i^{a_i}$,  тогда $n$ называется порядком монома $M$. Обозначение $\ord M=n$. Соответственно, порядком многочлена назовём максимальный порядок
мономов, его составляющих.
\end{definition}
\begin{definition}
Введём на переменных $y_0,\ldots,y_n,\ldots$ порядок. Будем говорить, что $y_i$ старше $y_j$, если $i>j$, и обозначать $y_i\succ y_j$.
\end{definition}
\begin{definition}
Дифференциальным идеалом дифференциального кольца $\mathcal{R}$  называется идеал $a$ такой, что $\delta(a)\subseteq a$.
\end{definition}


\begin{definition}
Для элемента $f$ кольца $\mathbb{K}\{y\}$ определим сепаранту $S_f$,
как частную производную по старшей переменной, для элементов поля полагаем ее нулем.
\end{definition}

\begin{definition} Многочлен называется {\it квазилинейным}, если
его сепаранта принадлежит полю $K$ . Равносильные определения:
факторалгебра $K\{y\}/[f]$ конечно порождена $ \Leftrightarrow$ в
идеале $[f]$ имеется конечный лексикографический стандартный базис
(\cite[ теорема 2]{Ferro Theorem 2}).
\end{definition}



Будем обозначать скобками <<()>>,<<$[~]$>>,<<$\{\}$>> соответственно
алгебраический, дифференциальный, радикальный дифференциальный
идеалы, порождённые элементами, заключенными внутри скобок.


\begin{definition}
Пусть $f_1,\ldots,f_n\in K\{y\}$ --- некоторый набор
дифференциальных многочленов. Тогда  {\it формальным решением}
системы дифференциальных уравнений $f_1=\ldots =f_n=0$ называется
элемент $t\in K^{\mathbb{N}}= K^{\infty}$ такой, что $ (\theta f_i)(t)=0$ для
любого $i$ и любого $\theta\in\Theta$( подстановка значений в
многочлен осуществляется по следующему правилу $\forall j\ge 0:
y_j=t_j$).
\end{definition}


\begin{definition}
Пусть $f_1,\ldots,f_n\in K\{y\}$ --- некоторый
набор дифференциальных многочленов. Тогда  {\it дифференциальным
решением} системы дифференциальных уравнений $f_1=\ldots =f_n=0$
называется элемент $\xi \in \mathbb{F}$ некоторого дифференциального
поля $\mathbb{F}$, содержащего $K$, такой, что $ f_i(\xi)=0$ для
любого $i$.
\end{definition}

\begin{definition} {\it Сингулярным корнем} многочлена $f$
называется дифференциальное решение системы $f=S_f=0$.
\end{definition}


Теперь нам потребуется формулировка теоремы Гильберта о нулях для
различных колец многочленов.

\begin{definition} Дифференциальное поле $\mathbb{F}$ называется
{\it дифференциально замкнутым}, если для любой системы дифференциально-алгебраических
уравнений, которая имеет решение в некотором расширении поля $\mathbb{F}$,
имеется решение  в $\mathbb{F}$.
\end{definition}

Как и в случае обычного кольца многочленов над алгебраически
замкнутым полем, когда набор корней многочлена $g$ полностью
характеризует радикал его идеала, так и в случае дифференциально
замкнутого поля $\mathbb{F}$ и кольца  $\mathbb{F}\{y\}$ многочлен $g$ лежит в
радикале $\{f\}$ тогда и только тогда, когда все  дифференциальные
решения $f=0$ являются дифференциальным решениями $g=0$.

Пусть $\mathbb{F}$ ~--- дифференциально замкнутое поле характеристики 0 и
положим $R=\mathbb{F}\{x_1,...,x_n\}$ ($x_1,...,x_n$~--- дифференциальные
переменные) и $A=\mathbb{F}^n$. Тогда для произвольного множества
дифференциальных многочленов $E$ определим дифференциальное многобразие

$$
\mathbf{V}(E)=\{a\in \mathbb{F}^n \mid f(a)=0\quad\forall  f\in E\}
$$
и для произвольного подмножества $Y$ в $\mathbb{F}^n$, положим
$$
\mathbf{I}(Y)=\{f \in R \mid f(Y)=0\}.
$$


\begin{theorem}\label{theorem:th 0 for dif}
Пусть $\mathbb{F}$ дифференциально замкнуто. Тогда для любого собственного дифференциального идеала $J$ в
$\mathbb{F}\{x_1,\ldots,x_n\}$  множество $V(J)$ не пусто.\cite[Chapter~IV,
Section~2, Theorem~1]{Kolchin 2}
\end{theorem}

Пусть $\mathbb{F}$~--- произвольное поле, $\kappa$ --- фиксированный
бесконечный кардинал, а $X$~--- множество переменных мощности строго
меньше чем $\kappa$. Пусть $R=\mathbb{F}[X]$ и $A=\mathbb{F}^X$. Тогда многочлены из
$R$ можно рассматривать как функции из $A$ в $\mathbb{F}$. Так же как и для
дифференциальных идеалов можно определить алгебраическое многообразие $$\mathbf{V}(E)=\{a\in A\,
\mid f(a)=0~\forall f\in E\}$$  и для произвольного подмножества $Y$
в $A$, положим
$$\mathbf{I}(Y)=\{f \in R\, \mid f(Y)=0\}$$.

\begin{theorem}\label{theorem:th 0 for alg}
В указанных выше условиях следующие три пункта эквивалентны:


\begin{enumerate}
\item Поле $\mathbb{F}$ алгебраически замкнуто и $|\mathbb{F}|\geqslant\kappa$;

\item Для любого собственного идеала $J$ в $\mathbb{F}[X]$ множество
$\mathbf{V}(J)$ непусто;

\item Для любого идеала $J$ в $\mathbb{F}[X]$ имеем равенство
$\sqrt{(J)}=\mathbf{I}(\mathbf{V}(X))$, где $\sqrt{R}$~--- радикал
идеала $R$.
\end{enumerate}

\end{theorem}

В дальнейшем в роли $X$ у нас будет выступать счётный набор
переменных, а в роли $\kappa$~--- мощность дифференциального идеала
над алгебраически замкнутым полем, т.е. мощность $\kappa$
более чем счётная.


\begin{definition} Размерностью неприводимого алгебраического многообразия
$\mathbf{V}=\mathbf{V_0}\subseteq \mathbb{K}^n$ называется длина максимальной цепочки
$\mathbf{V_k}\subset\ldots\mathbf{V_1}\subset\mathbf{V_0}$, где
$\mathbf{V_i}\subseteq \mathbb{K}^n$ является собственным неприводимым алгебраическим многообразием
$\mathbf{V_{i-1}}$.
\end{definition}

\begin{definition}
Пусть $x\in K^{\infty}$, тогда $\Pi_m(x)=x'\in K^{m+1}$~--- проекция
точки $x$ на первые $m+1$ координату (которые соответствуют у нас
переменным $y_0,\ldots y_m$). Проекцией множества точек будем называть объединение проекций всех точек этого множества.
\end{definition}

\section{ Вспомогательные леммы}


\begin{lemma}\label{lemma:der_monom}
Пусть моном $M$ записан в виде $M=y_{a_1}\ldots y_{a_d}$. Тогда
$$
M^{(n)} =\sum\limits_{\stackrel{s_i\geqslant0,}{
s_1+\ldots+s_d=n}}\frac{n!}{s_1!\ldots s_d!}
\prod\limits_{i=1}^dy_{a_i+s_i}
$$
\end{lemma}
\begin{proof}
Доказательство следует непосредственно из правила Лейбница.
\end{proof}
Рассмотрим дифференциальный многочлен $g$ порядка $l$ и произвольное
число $k\ge0$. Представим многочлен в виде $g=g_0+A_{g,k}y_k$, где
$g_0$ не зависит от $y_k$, а многочлен $y_kA_{g,k}$ получается из
многочлена $g$ нахождением всех мономов, зависящих от $y_k$, и
вынесением этой переменной за скобки.


\begin{lemma}\label{lemma:A_fn}
Пусть $f$~--- дифференциальный многочлен и $\ord f = l$, тогда
для любых $k$ и $n$ с условием $n>2k$ верно следующее
равенство:
$$
A_{f^{(n)}, l + n - k}=\sum\limits_{j=0}^{l}C_n^{k - l + j
}\left(\frac{\partial f}{\partial y_j}\right)^{(k - l + j)}.
$$
Здесь мы по умолчанию понимаем $C_n^{k}=0$ для отрицательных
$k$.
\end{lemma}

\begin{proof}
Заметим, что в силу линейности дифференцирования мы можем считать
$f$ мономом. Пусть $\deg f = d$ и $f$ представляется в
следующем виде
$$
f=\prod\limits_{i=0}^ly_i^{m_i}=\prod\limits_{i=1}^{d}y_{r_i},
$$
где $r_i\leqslant r_j$ при $i \leqslant j$. Тогда применив лемму~\ref{lemma:der_monom} к $f^{(n)}$,
получим
$$
f^{(n)}=\sum\limits_{\stackrel{s_i\geqslant0,}{
s_1+\ldots+s_d=n}}\frac{n!}{s_1!\ldots s_d!}
\prod\limits_{i=1}^dy_{r_i+s_i}
$$
Так как $n>2k$, то в каждом мономе вида $\prod_{i=1}^d y_{r_i+s_i}$
переменная $y_{l+n-k}$ встречается единожды. Действительно, пусть
$y_{r_i+s_i}=y_{l+n-k}$ и $y_{r_j+s_j}=y_{l+n-k}$. Но тогда
$$
r_i+r_j +s_i+s_j = 2(l+n-k)
$$
Следовательно
$$
2(l+n-k)\leqslant 2r_d + \sum_{i=1}^d s_d = 2l +n
$$
Значит
$$
n \leqslant 2(k-l) + 2l =2k
$$
что противоречит выбору $n>2k$.


Теперь выделим слагаемое зависящее от $y_{n+l-k}$. Множитель
$y_{n+l-k}$ соответствует одному из $y_{r_i+s_i}$. Рассмотрим для
простоты случай, когда этот множитель соответствует $y_{r_1+s_1}$,
то есть когда $r_1+s_1 = n+l-k$.  Получаем, что
\begin{gather*}
\sum\limits_{\stackrel{s_1 =n+l-k-r_1,
s_i\geqslant0,}{s_1+\ldots+s_d=n}}\frac{n!}{s_1!\ldots s_d!}\prod\limits_{i=1}^dy_{r_i+s_i}=\\
=y_{n+l-k}\sum\limits_{\stackrel{
s_i\geqslant0,}{s_2+\ldots+s_d=r_1+k-l}}\frac{n!}{(n+l-k-r_1)!s_2!\ldots s_d!}\prod\limits_{i=2}^dy_{r_i+s_i}=\\
=y_{n+l-k}\sum\limits_{\stackrel{
s_i\geqslant0,}{s_2+\ldots+s_d=r_1+k-l}}\frac{n!}{(n+l-k-r_1)!(r_1+k-l)!}\frac{(r_1+k-l)!}{s_2!\ldots s_d!}\prod\limits_{i=2}^dy_{r_i+s_i}=\\
=y_{n+l-k}C_n^{r_1+k-l} (y_{r_2}\ldots y_{r_d})^{(r_1+k-l)} =
y_{n+l-k}C_n^{r_1+k-l}(y_{r_1}^{m_{r_1}-1}\ldots
y_{l}^{m_l})^{(r_1+k-l)}=\\
=y_{n+l-k}C_n^{r_1+k-l}\frac{\left(\frac{\partial f}{\partial
y_{r_1}}\right)^{(r_1+k -l)}}{m_{r_1}}.
\end{gather*}

Теперь просуммируем все слагаемые, в которых встречается
$y_{l+n-k}$, получим
$$
A_{f^{(n)},l+n-k} = \sum_{i=1}^{d}
C_n^{r_i+k-l}\frac{\left(\frac{\partial f}{\partial
y_{r_i}}\right)^{(r_i+k -l)}}{m_{r_i}}= \sum_{j=0}^l \sum_{r_i = j}
C_n^{r_i+k-l}\frac{\left(\frac{\partial f}{\partial
y_{r_i}}\right)^{(r_i+k -l)}}{m_{r_i}} = \sum_{j=0}^l C_n^{j+k-l}
\left(\frac{\partial f}{\partial y_{j}}\right)^{(j+k-l)}
$$

\end{proof}

\begin{corollary}\label{corollary:deriv_equal}
Пусть $f$~--- дифференциальный многочлен, $\ord f =l$, и $n>2k$.
Тогда
\begin{enumerate}
\item $\ord A_{f^{(n)},l+n-k}\leqslant k+l$;

\item Выполнено следующее равенство
$$
f^{(n)}=\sum\limits_{i=0}^{k} A_{f^{(n)},n+l -i}y_{n+l -i} + Q,
$$
где $Q$  зависит от переменных, порядка которых меньше $n+l-k$.
\end{enumerate}
\end{corollary}
\begin{proof} Первый пункт непосредственно следует из леммы~\ref{lemma:A_fn}. Докажем индукцией по $m\le k$, что
$$
f^{(n)}=\sum\limits_{i=0}^{m} A_{f^{(n)},n+l -i}y_{n+l -i} + Q,
$$
где $Q$  зависит от переменных, порядка которых меньше $n+l-m$. База $m = 0$: $f^{(n)}=S_fy_{n+l}+Q_0=A_{f^{(n)}, n + l}+Q_0$.

Предположим, что для $m<k$ утверждение доказано. Докажем для $m+1\le k$. По предположению имеем, что
$$
f^{(n)}=\sum\limits_{i=0}^{m} A_{f^{(n)},n+l -i}y_{n+l -i} + Q_m.
$$
Из первого утверждения следует, что $\ord A_{f^{(n)}\,n+l -i}\le l+i\le l+m$. Тогда имеем, что $l+n-(m+1)>l+m$, а следовательно $A_{f^{(n)}, l+n-(m+1)} = A_{Q_{m}, l+n-(m+1)}$.
Тогда
\begin{gather*}Q_{m}=A_{Q_{m}, l+n-(m+1)}y_{l+n-(m+1)}+Q_{m+1},\ord Q_{m+1}<l+n-(m+1)\Rightarrow \\ f^{(n)}=\sum\limits_{i=0}^{m+1} A_{f^{(n)},n+l -i}y_{n+l -i} + Q_{m+1}.
\end{gather*}
Переход доказан.

\end{proof}
Следующий результат, по видимому, является известным, но мы не нашли
подходящей ссылки, и потому приводим его доказательство.

\begin{lemma} \label{lemma:sb_vr_cntm}
Пусть $\mathbf{X}$~--- неприводимое многообразие над алгебраически замкнутым полем $K$
мощности, не меньшей континуума, размерности $n>0$. Тогда в
$\mathbf{X}$ содержится как минимум континуальное множество
неприводимых многообразий размерности $n-1$.
\end{lemma}

\begin{proof}
Пусть $\mathbf{X}$~--- неприводимое многообразие и $f$~--- некоторая
не постоянная функция на $\mathbf{X}$. Тогда образ $f$ является
коконечным множеством. То есть для любого $a\in K$, кроме конечного
числа, прообраз $f^{-1}(a)$ не пуст~\cite[Глава 2, параграф 3, упр 3.19]{Hartshorn}. С другой стороны
этот прообраз задается уравнением $f-a$ в кольце $K[\mathbf{X}]$ --
регулярных функций на $\mathbf{X}$. Тогда по теореме Крулля~\cite[Chapter~5,
Section~12, Theorem~18]{Matsumura} о размерности все
компоненты подмногообразия, задаваемого уравнением $f-a=0$ имеют
коразмерность один. Так как $K$ без конечного числа точек тоже
континуум, то многообразий вида $f-a=0$ тоже континуум, а следовательно их
неприводимых компонент также континуум.
\end{proof}

\begin{lemma} \label{lemma:o vlojenii}
Пусть у нас задано некоторое неприводимое многообразие
$\mathbf{U}\subset K^{k+1}$ и счетное семейство многочленов
$g_n(y_0,\ldots, y_k)\in K[y_0,\ldots, y_k ]$. Рассмотрим объединение
многообразий $ \mathbf{V}=\bigcup\limits
_{i=0}^{\infty}\mathbf{V}(g_i(y_0,\ldots, y_k))$. Тогда либо
$\exists i, \mathbf{U} \subset \mathbf{V}(g_i(y_0,\ldots, y_k))$ или
$\mathbf{U}\nsubseteq \mathbf{V}$.
\end{lemma}



\begin{proof}
От противного. Пусть $\mathbf{U}\subset \mathbf{V}$, но нет такого
$i$, что $\mathbf{U} \subset \mathbf{V}(g_i(y_0,\ldots, y_k))$.
Тогда
$$
\mathbf{U}=\bigcup\limits_{i=0}^{\infty}(\mathbf{V}(g_i(y_0,\ldots,
y_k))\bigcap \mathbf{U}).
$$


Т.е. $\mathbf{U}$ представляется в виде счётного объединения
многообразий меньшей размерности . Размерность каждого многообразия
$\mathbf{V}(g_i(y_0,\ldots, y_k))\bigcap \mathbf{U}$ меньше
размерности $U$, в силу определения размерности. Докажем по индукции
по размерности $\dim~U=n$,
что такое представление невозможно.

База $n=1$. Утверждение очевидно, в силу того, что многообразия
нулевой размерности~--- это точки, а мощность многообразия
размерности 1 континуальна по лемме~\ref{lemma:sb_vr_cntm}.




 Пусть для $n$ мы доказали утверждение, докажем его для $n+1$.
Пусть $\mathcal M$~--- множество всех подмногообразий коразмерности
один многообразия $\mathbf{U}$ и пусть
$$
\mathcal M' = \{ \mathbf{U}\cap \mathbf{V}(g_i(y_0,\ldots,y_k))\mid
i\in \mathbb N \}
$$
По лемме~\ref{lemma:sb_vr_cntm}, множество $\mathcal M$ несчетно, а
следовательно $\mathcal M\setminus\mathcal M'\neq \varnothing$.
Пусть $Z$~--- элемент этой разности. Тогда $Z$ не принадлежит ни
одному из $\mathbf{V}((g_i(y_0,\ldots,y_k)))$, но покрывается их
объединением. Так как $\dim Z<\dim \mathbf{U}$, получаем
противоречие с индукционным предположением.



\end{proof}

\begin{remark}\label{remark:o vlojenii}

Пусть $K$~--- алгебраически замкнутое поле континуальной
мощности и пусть нам дан многочлен $ g(y_0,\ldots,y_k,x)\in
K[y_0,\ldots,y_k,x]$. Рассмотрим следующее семейство многочленов
$$
g_n(y_0,\ldots,y_k) = g(y_0,\ldots,y_k,n) \in K[y_0,\ldots,y_k]\quad
n\in \mathbb N.
$$
Пусть $\mathbf{U}\subseteq K^{k+1}$~--- некоторое неприводимое многообразие и
$I=\mathbf{V}(\mathbf{U})\subseteq K[y_0,\ldots,y_k]$~---
соответствующий ему идеал. Фиксируем в $K[y_0,\ldots,y_k]$ некоторый
порядок на мономах, тогда обозначим через $G$ редуцированный базис
Гребнера идеала $I$.

Нас будет интересовать вопрос: выполняется ли следующее вложение:
$$
\mathbf{U}\subseteq \bigcup_{n=0}^{\infty}\mathbf{V}(g(y_0,\ldots,y_k,n)),
$$
и если выполняется, то при каком $\{n\mid\mathbf{U}\subseteq \mathbf{V}(g(y_0,\ldots,y_k,n))\}$ (по лемме~\ref{lemma:o vlojenii} мы знаем, что если выполнено первое вложении, то такое $n$ существует).

Рассмотрим $g(y_0,\ldots,y_k,n)\in K[y_0,\ldots,y_k]$ как многочлен с параметром. Отредуцируем все мономы $g(y_0,\ldots,y_k,n)$ относительно $G$. В результате редукции мы получим некоторый многочлен $g'(y_0,\ldots,y_k,n)$. Заметим, что
$$
\mathbf{U} \subset \mathbf{V}(g(y_0,\ldots, y_k,n))
\Leftrightarrow g(y_0,\ldots, y_k,n)\in I\Leftrightarrow
g'(y_0,\ldots, y_k,n)\equiv0.
$$
Приведём подобные слагаемые в $g'(y_0,\ldots, y_k,n)$:
$$
g'(y_0,\ldots, y_k)=\sum\limits t_i(n)r_i(y_0,\ldots, y_k),
$$
где $r_i$~--- моном, а $t_i(n)\in\mathbb{K}[n]$~--- некоторый многочлен от $n$.
В силу определения $g'$,
$$
g'(y_0,\ldots, y_k,n)\in I\Leftrightarrow\, \forall\, j\,: t_j(n)=0,
$$
т.е. искомое $n$~--- это на самом деле решение системы уравнений от
одной переменной:
$$
\forall\, j:t_j(n)=0\Leftrightarrow \text{НОД}(t_j(n))=0.
$$
Так же заметим, что нам нужны только целые корни. Если изначальные
многочлены были с рациональными коэффициентами, то все $t_j(n)$
будут тоже с рациональными коэффициентами, а следовательно чтобы
найти все целые корни нам нужно просто перебрать некоторое конечное
множество чисел.
\end{remark}


\begin{lemma} \label{lemma:o proekcii}
Пусть $g_1,g_2,\ldots g_n\in K\{y\}$~--- множество многочленов, $R=\sqrt{(g_1,\ldots,g_n)}\subseteq K\{y\}$, $\mathbf{V}=\mathbf{V}(g_1,g_2,\ldots g_n)\subseteq K^{q}$, где $q\in \mathbb{N},q\geqslant \max\limits_i\ord g_i$ или бесконечность, тогда $\Pi_l(\mathbf{V})=\mathbf{V}(\sqrt{I})$, где $I =(g_1,\ldots,g_n)\subseteq K[y_0,\ldots,y_l]$ и $l=\max\limits_i\ord g_i$.

\end{lemma}

\begin{proof}
%Пусть $R_m=\sqrt{(g_1,\ldots,g_n)}\subseteq K(y_0,\ldots,y_m)$, где $m\geq l$. Рассмотрим базис Грёбнера $R_1$, по \orange{БЛАБЛАБЛА} он не зависит от выбора $m$, обозначим этот базис за $GB_1$. Так как  $R=\bigcup\limits_{i=l}^{\infty}R_m$, то $GB_1$ является базисом Грёбнера  $R$.
Пусть $a\in \mathbf{V}$, тогда по теореме~\ref{theorem:th 0 for alg} $g_i(a)=0$ для любого $i$ от $1$ до $n$. Следовательно, так как многочлены $g_i$  порядка не больше $l$, то $g(\Pi_l(a))$ определено корректно и равно 0. Отсюда получается, что $\Pi_l(\mathbf{V})\subseteq\mathbf{V}(\sqrt{I})$.

Докажем вложение в обратную сторону. Пусть $R_m=\sqrt{(g_1,g_2,\ldots g_n)}\subseteq K(y_0,\ldots,y_m)$, где $m\geq l$. Рассмотрим базис Грёбнера $R_m$, по предложению~\cite[Chapter~IV, Section~2, Suggestion~8]{Cox} он не зависит от выбора $m$, обозначим этот базис за $G$. Так как  $R=\bigcup\limits_{m=l}^{q}R_m$, то $G$ является базисом Грёбнера  $R$. Пусть $b\in\mathbf{V}(R_l)\in K^{l+1}$, тогда рассмотрим точку $b'=(b,0\ldots,0,\ldots)\in K^{q}$. Так как $G$ является базисом Грёбнера в том числе и $R_l$, то для любого элемента $g\in G$ верно, что $g(b)=0$ (так как $G$ является базисом Грёбнера $R_l$), а следовательно $g(b')=0$. Если для любого элемента базиса верно, что $g(b')=0$, следовательно, для любого многочлена  $g'\in R\subseteq K\{y\}$ выполнено, что $g'(b')=0\Rightarrow b'\in\mathbf{V}(R)$  . Мы получили, что для любой точки  $b\in\mathbf{V}(R_l)$ существует точка из $b'\in\mathbf{V}$ такая, что $b=\Pi_l(b')$, т.е. $\mathbf{V}(R_l)\subseteq\Pi_l(\mathbf{V})\Rightarrow \mathbf{V}(\sqrt{I})=\Pi_l(\mathbf{V})$ . 
\end{proof}
\section{ Алгоритм разделяющий случаи $[f]+(S_f)=1$ и $[f]+(S_f)\neq1$}


Мы знаем, что при выполнении условия $[f,S_f]=1$ наличие или отсутствие в $[f]$ квазилинейного многочлена равносильно равенству/неравенству $[f]+(S_f)=1$. Так же, при выполнении $[f]+(S_f)=1$ мы знаем, что $[f]=\{f\}$. Тогда встаёт естественный вопрос, как разделить эти два случая. Мы попробуем этот пробел устранить. Более того, мы будем решать следующую задачу: дано, что $[f,S_f]=1$, надо проверить на равенство единичному идеал $[f]+(h)$, где $h\in K\{y\}$.

В дальнейшем нас будет интересовать решение следующей системы:
\begin{equation}h=f=\ldots=\ldots=f^{(n)}=\ldots=0. \end{equation}

Введём некоторые обозначения.
\begin{enumerate}


  \item  $l:=\ord (f);$

  \item Идеал $G_k := \sum\limits_{j=0}^l\left(\left(\frac{\partial f}{\partial y_j}\right)^{(j+k-l)}\right) = \left(\left(\frac{\partial f}{\partial y_0}\right)^{(k-l)},\ldots ,\left(\frac{\partial f}{\partial y_l}\right)^{(k)} \right)$.
  \\Если $j+k-l<0$, то считаем, что $\left(\frac{\partial f}{\partial y_j}\right)^{(j+k-l)} = 0$;

  \item Многочлен $g_{k,n}:=\sum\limits_{j=0}^{l}C_n^{j+k - l }\left(\frac{\partial f}{\partial y_j}\right)^{(j+k - l)}$;

  \item  Выберем  такие $p,w\in \mathbb{N}$ , что $(f,\ldots,f^{(w)},S_f,\ldots,S_f^{(p)})=1\}$, они существуют в силу условия
  $[f,S_f]=1$;

  \item $\mathbf{V}_{f,n}=\mathbf{V}(h,f,\ldots f^{(n)})\subseteq K^{\infty}$;

  \item
  $\mathbf{V}_{f}=\bigcap\limits_{n=0}^{\infty}\mathbf{V}_{f,n}$;


%  \item Дано многообразие ${\mathbf{H}}$.  Разложение $\mathbf{H}$ на неприводимые многообразия будем обозначать: $\mathbf{\mathbf{H}}= \bigcup\limits_{j=1}^{k}\mathbf{L}_{j}(\mathbf{H})$. 
\end{enumerate}



Пусть $n \geqslant\max\{ 2p+1,\ord{h},l,w\}$. Рассмотрим  набор многообразий $\mathbf{U}_k^n,0\leqslant k\leqslant p $ , заданный следующим образом:
$$
\mathbf{U}_{0}^n=\mathbf{V}_{f,n},
$$

$$\mathbf{U}_k^n=\mathbf{V}_{f,n+k}\bigcap\left(\bigcap\limits_{m=0}^{k-1}\mathbf{V}\left(G_m\right)\right)
\quad (k>0).
$$

Каждое из $\mathbf{U}^n_k$ разложим на неприводимые многообразия $W=\{\mathbf{W}_{1},\ldots,\mathbf{W}_{n_k}\}$. Пусть $V^n_k=\{\mathbf{V}^n_{k,1},\ldots,\mathbf{V}^n_{k,i_k}\}$ все элементы $W$, удовлетворяющие следующему условию: $\mathbf{W}_{j}\not\subseteq\mathbf{V}(G_k)$.

Пусть  $S_k^n=(h,f,\ldots,f^{(n+k)})+G_0+\ldots+ G_{k-1}\subseteq K\{y\}$. Из определения $\mathbf{U}_k^n$ видно, что $\mathbf{U}_k^n=\mathbf{V}(S_k^n)\subseteq K^{\infty}$. А каждому многообразию $\mathbf{V}_{k,i}^n$ соответствует радикал $R_{k,i}^n$ некоторой примарной компоненты идеала $S_k^n$.


\begin{lemma} \label{lemma:o_ideale}
 В выше обозначенных условиях для любого $i$ множество $\Pi_{n+l}(\mathbf{V}_{k,i}^n)$ является многообразием, где $n \geqslant\max\{ 2p+1,\ord{h},\ord{f},w\}$ и  $0\leqslant k\leqslant p$.
\end{lemma}

\begin{proof}
Рассмотрим многочлен $ f^{(m)}$, $n\leqslant m\leqslant n+k$. По следствию~\ref{corollary:deriv_equal} и определению $g_{k,n}$ верно, что

$$
f^{(m)}= \sum\limits_{i=0}^{p} A_{f^{(m)}\,m+l -i}y_{m+l -i} + f_{m,n}=\sum\limits_{i=0}^{m-n} g_{i,m}y_{m+l -i} + f_{m,n},
$$

где многочлен $f_{m,n}$ не зависит от переменных старше $y_{n+l-1}$. Заметим, что $\sum\limits_{i=0}^{m-n} g_{i,m}y_{m+l -i}$ принадлежит идеалу  $(G_0,\ldots, G_{k-1})\subseteq K[y_0,\ldots,y_{k+n+l}]$,  порождающие которого зависят от переменных не старше $y_{n+l}$.

Рассмотрим идеал

$$
T_k^n=(h,f,\ldots,f^{(n)},f_{n+1,n},\ldots,f_{n+k,n}) + G_0+\ldots+ G_{k-1}\subseteq K[y_0,\ldots,y_{n+l}].
$$

Тогда порождающие идеала $S_k^n$, а следовательно всех его примарых компонент, принадлежат идеалу $T_k^n$. По лемме~~\ref{lemma:o proekcii} верно, что
$$
\Pi_{n+l}(\mathbf{V}_{k,i}^n)=\mathbf{V}(R_{k,i}^n\bigcap K[y_0,\ldots,y_{n+l}]).
$$
Последнее многообразие рассматриваются в пространстве $K^{n+l+1}$.
\end{proof}


\begin{remark}\label{remark:o_prinadleznosti_reshenia}
Предположим, что $[f,S_f]=1$, а $[f]+(h)\neq 1$. Тогда $\mathbf{V}_{f}$ не пусто. Рассмотрим точку $b\in\mathbf{V}_{f}$. Докажем, что она принадлежит хотя бы одному из многообразий $\mathbf{V}_{k,i}^n$ при фиксированном $n$. Мы знаем, что 
$$
\varnothing=\mathbf{V}(f,\ldots,f^{(p)},S_f,\ldots,S_f^{(p)})\supseteq \mathbf{V}(h,f,\ldots,f^{(p)})\bigcap\mathbf{V}(S_f,\ldots,S_f^{(p)})=\varnothing.
$$
 А так как $b\in \mathbf{V}(h,f,\ldots,f^{(p)})$, то $b$ не может входить в $\mathbf{V}(S_f,\ldots,S_f^{(p)})$. Следовательно существует $i\leqslant p$, что $b \not\in \mathbf{V}(G_i)$, так как  в порождающие элементы идеалов $G_j$ входят соответственно все производные $S_f$ вплоть до $(S_f)^{(p)}$. Остаётся взять наименьшее такое $i$ и получим, что $b\in \mathbf{U}_{i}^n$, а вместе с этим $b$ лежит и в какой неприводимой компоненте $\mathbf{U}_{i}^n$, не принадлежащей $\mathbf{V}(G_{i})$.
\end{remark}

\begin{definition}
Пусть $f\in K\{y\}$, $[f,S_f]=1$.  Глубиной решения $b\in \mathbf{V}_f$  будем называть число $k$, такое что $b\in \mathbf{U}_k^n$, но $b\not\in \mathbf{U}_{k+1}^n$, при $n \geqslant\max\{ 2p+1,\ord{h},\ord{f},w\}$ .
\end{definition}



\begin{lemma}\label{lemma:o_nasledovanii}
Глубина решения не зависит от выбора $n$.

%Пусть $b\in\mathbf{V}_f$ и выполнено следующее условие: существует $d$, что $b\in\mathbf{U}_{d}^{n_1}$, но $b\not\in\mathbf{U}_{d+1}^{n_1}$ . Тогда  для любого $n_2\geqslant n_1$ $b$ принадлежит $\mathbf{U}_{d}^{n_2}$ , и для $ d_1>d$ выполнено $b\not\in\mathbf{U}_{d_1}^{n_2}$ . Тем самым глубина решения не зависит от $n$.
\end{lemma}

\begin{proof}
Предположим противное, то есть существует решение $b\in\mathbf{V}_f$ и существуют $n_1$ и $n_2$ такие, что  глубина $b$ при $n_1$  равна $d_1$, а при $n_2$ равна $d_2$, и $d_1\not=d_2$. Заметим, что так как $\mathbf{U}_k^n=\mathbf{V}_{f,n+k}\bigcap\left(\bigcap\limits_{m=0}^{k-1}\mathbf{V}\left(G_m\right)\right)$, то принадлежность $b$  многообразию $\mathbf{U}_{d_1}^{n_1}$ и отсутствие $b$ в $\mathbf{U}_{d_1+1}^{n_1}$ означает, что $b\not\in\bigcap\limits_{m=0}^{d_1}\mathbf{V}\left(G_m\right)$ и $b\in\bigcap\limits_{m=0}^{d_1-1}\mathbf{V}\left(G_m\right)$. Аналогично, получаем, что $b\not\in\bigcap\limits_{m=0}^{d_2}\mathbf{V}\left(G_m\right)$ и $b\in\bigcap\limits_{m=0}^{d_2-1}\mathbf{V}\left(G_m\right)$. Не ограничивая общности, пусть $d_1<d_2$. Но тогда мы приходим к противоречию, что 
$$
b\in\bigcap\limits_{m=0}^{d_2-1}\mathbf{V}\left(G_m\right)\subseteq\bigcap\limits_{m=0}^{d_1}\mathbf{V}\left(G_m\right).
$$
Значит наше предположение неверно. Следовательно, для всех  допустимых $n$ глубина решения одна и таже.

\end{proof}

\begin{remark}\label{remark:o_sushestvovanii_gllubiny} Тем самым из~\ref{lemma:o_nasledovanii} и~\ref{remark:o_prinadleznosti_reshenia} следует, что глубина решения не зависит от $n$ и корректно определена для любого $b\in \mathbf{V}_f$.
\end{remark}

\begin{definition}
Пусть имеется счётный набор многочленов
$$
G=\{h_1,\ldots,h_m,\ldots\,\}\subset K\{y\}.
$$
Рассмотрим набор многочленов $G'=\{h_1,\ldots,h_i\}$, $G'\subseteq K[y_0,y_1,\ldots
y_n]$ и пусть
$$
t=(a_0,\ldots,a_n)\in K^{n+1}
$$
--- формальное решение системы уравнений $h_1=\ldots=h_i=0$. Тогда мы будем говорить, что формальное решение
$t$ {\it продлевается} до формального решения системы
$$
h_1=\ldots=h_i=h_{i+1}=0, \quad\mbox{где}\quad h_{i+1}\subseteq K[y_0,y_1,\ldots
y_{n+m}],
$$
если существуют такие $a_{n+1},\ldots, a_{n+m}\in K$, что
$t'=(a_0,\ldots,a_n,\ldots,a_{n+m})\,\in K^{n+m}$~--- решение
системы $h_1=\ldots=h_i=h_{i+1}=0$

И, соответственно, {\it продлевается} до решения системы $G$, если
мы поочерёдно продлили до решения всех систем $h_1=\ldots=h_i=h_{j}=0\, \forall j\,\in \mathbb{N}$.
\end{definition}
%!!!!!!



\begin{definition}
Пусть многочлен $g(y_0,\ldots,y_t,n)\subseteq K\{y\}$, где $n\in \mathbb{Z}\cup\{\infty,-\infty\}$ некоторый параметр. Функция $\psi(g(y_0,\ldots,y_t,n),\mathbf{U})$ по многочлену $g(y_0,\ldots,y_t,n)$ и  многообразию $\mathbf{U}\subseteq K^m$, где $t< m$ или $m=+\infty$, возвращает максимальное $n_0$, для которого выполнено $\mathbf{U}\subseteq \mathbf{V}(g(y_0,\ldots,y_t,n_0))\subseteq K^m$. Если максимального нет, то возвращает $+\infty$. Если вообще таких  $n_0$ нет, то возвращает $-\infty$.
\end{definition}

\begin{lemma}\label{lemma:o_ravenste_psi}
Пусть $\mathbf{V}_{k,i}^{n_0}$ и $g_{d,n}$ удовлетворяют введённым нами обозначениям и  $d\leqslant p$. Тогда имеется равенство $$\psi(g_{d,n},\Pi_{n_0+l}(\mathbf{V}_{k,i}^{n_0}))=\psi(g_{d,n},\mathbf{V}_{k,i}^{n_0}).$$
\end{lemma}

\begin{proof}
Утверждение леммы непосредственно следует из того, что $\mathbf{V}_{k,i}^{n_0}$ соответствует радикальный идеал $R_{n,i}^k$, порождающие которого лежат в кольце $K[y_0,\ldots,y_{n_0+l}]$, которому также принадлежит $g_{d,n}$.
\end{proof}


\begin{theorem}\label{theorem:general th1}

Пусть $K$~--- алгебра Ритта континуальной мощности, $f,h\in K\{y\}$ и $[f,S_f]=1$. Тогда в введённых выше обозначениях, если для некоторого непустого $\mathbf{V}_{k,i}^{n_0}$ верно, что
\begin{equation}
\psi(g_{k,n},\Pi_{n_0+l}(\mathbf{V}_{k,i}^{n_0}))\leqslant n_0+k.
\end{equation}
То все точки $\Pi_{n_0+l}(\mathbf{V}_{k,i}^{n_0})$, быть может кроме счётного числа подмногообразий меньшей размерности, продлеваются до формального решения системы (1).
\end{theorem}

\begin{proof}
Пусть $a\in \mathbf{V}_{k,i}^{n_0}$ и $b=\Pi_{n_0+l}(a)$. Предположим, что $b$ ни при каком $m>0$ не зануляет многочлен $g_{k,k+n+m}$. Тогда докажем по индукции, что $b$ продолжается до решения системы (1).

{\it База.} Из доказательства~\ref{lemma:o_ideale} следует, что при подстановке $b$ в многочлены $h,f,\ldots,f^{(n_0+k)}$ становятся тождественно равны 0, что и требовалось.

{\it Предположение индукции.} Предположим, что мы сумели продлить $b$ до $b'\in K^{n_0+l+m}, 0< m$~--- решения системы $h=f=\ldots=f^{(k+n_0+m-1)}=0$.

{\it Переход.} Докажем, что существует такая точка $b''\in K^{n_0+l+m+1}$, что $\Pi_{n_0+m+l-1}(b'')=b'$ и при подстановке $b''$ в систему $h=f=\ldots=f^{(k+n_0+m)}=0$ она вырождается в верные тождества.

Рассмотрим $f^{(k+n_0+m)}$. По следствию~\ref{corollary:deriv_equal} и определению $g_{k,n}$ верно, что

$$
f^{(k+n_0+m)}=\sum\limits_{j=0}^{k-1} g_{j,k+n_0+m}y_{k+n_0+m+l -j}+g_{k,k+n_0+m}y_{n_0+m+l}  + Q,
$$

где многочлен $Q$ и многочлен $g_{k,k+n_0+m}$ зависят от переменных, порядок которых меньше $n_0+l+m$. В силу построения $\mathbf{V}_{k,i}^n$, любая точка из $\mathbf{V}_{k,i}^{n_0}$ зануляет $g_{j,k+n_0+m}$, так как $j < k$ и $g_{j,k+n_0+m}\in G_j\subseteq S_k^{n_0}$. Так же $\ord g_{j,k+n_0+m}<y_{n_0+l}$ (доказано в ~\ref{corollary:deriv_equal}). Следовательно, при подстановке в $f^{(k+n_0+m)}$ точки $b'$ получим, что первая часть станет тождественным нулём, так как $b=\Pi_{n_0+l}(a)=\Pi_{n_0+l}(b')$. Обозначим $Q(b')=r\in K$ и $g_{k,k+n_0+m}(b')=t\neq 0\in K$ по предположению (так как $\ord g_{k,k+n_0+m}< n_0+l$, то выражение $g_{k,k+n_0+m}(b')$ корректно определено и совпадает со значением $g_{k,k+n_0+m}(b)$). Получаем, что уравнение $f^{(k+n_0+m)}$ свелось к линейному уравнению $t y_{n_0+m+l}+r=0\Rightarrow y_{n_0+m+l}=-\frac{r}{t}$. Итого мы продолжили $b'$ до решения $h=f=\ldots=f^{(k+n_0+m)}=0$.

 Так как $\psi(g_{k,n},\Pi_{n_0+l}(\mathbf{V}_{k,i}^{n_0}))\leqslant n_0+k$, то существует такое $b\in \Pi_{n_0+l}(\mathbf{V}_{k,i}^{n_0})$,  которое не зануляет $g_{k,j}$ ни при каком $j>n_0$, так как иначе все точки $\mathbf{V}_{k,i}^{n_0}$ содержались бы в счётном объединении многообразий $\mathbf{V}(g_{k,n})$, но целиком $\mathbf{V}_{k,i}^{n_0}$ не лежало бы ни в одном из них по условию (2), это противоречит лемме~\ref{lemma:o vlojenii}. Соответственно продлеваются все точки из $$\mathbf{V}_{k,i}^{n_0}\backslash \bigcup\limits_{j=n_0+k+1}^{+\infty}\mathbf{V}(g_{k,j}).$$
 \end{proof}


Заметим, что все $\mathbf{V}_{k,i}^n$ образуют частично упорядоченное множество по операции включение. Действительно, ясно, что из определения $\mathbf{U}_{k}^n$ следует, что  $\mathbf{U}_{d}^n\supseteq \mathbf{U}_{d}^m$ для любых $m >n$ и $0\leqslant d\leqslant p$. А следовательно
все неприводимое компоненты $\mathbf{U}_{d}^m$ содержатся в каких-то неприводимых компонентах $\mathbf{U}_{d}^n$.



\begin{definition}
Будем говорить, что $\mathbf{V}_{d,j}^{n_2}$ {\it наследник решения} $\mathbf{V}_{d,i}^{n_1}$, если $n_2>n_1, 0\leqslant d\leqslant p$ и
$$
\left\{
 \begin{aligned}
 \mathbf{V}_{d,j}^{n_2}\subseteq \mathbf{V}_{d,i}^{n_1}\\
 \psi(g_{d,n},\mathbf{V}_{d,i}^{n_1})=n_2.\\
 \end{aligned}
 \right.
$$
\end{definition}

\begin{remark}\label{remark:o_konechnosti_psi}
Отметим, что $\psi(g_{d,n},\mathbf{V}_{d,i}^{n_0})$ не может равняться $+\infty$  для не пустого $\mathbf{V}_{d,i}^{n_0}$. Действительно, если это не так, то существует бесконечно много $n$, таких, что $\mathbf{V}_{d,i}^{n_0}\subseteq \mathbf{V}(g_{d,n})$. Так как $\mathbf{V}_{d,i}^{n_0} \not\subseteq \mathbf{V}(G_d)$, то существует точка $b\in \mathbf{V}_{d,i}^{n_0}$ такая, что хотя бы один из многочленов $\left\{\left(\frac{\partial f}{\partial y_0}\right)^{(d-l)},\ldots, \left(\frac{\partial f}{\partial y_l}\right)^{(d)} \right\}$ не равен 0 в точке $b$.

Заметим, что $C_n^k=\frac{(n-1)\cdot\ldots(n-k+1)}{k!}$, следовательно при фиксированном $k$ биномиальный коэффициент $C_n^k$ можно рассматривать как многочлен от $n$.

Рассмотрим многочлен от $n$
$$
g_{d,n}(b)=\sum\limits_{j=0}^{l}C_n^{j+d - l }\left(\frac{\partial f}{\partial y_j}\right)^{(j+d - l)}(b)\in K[n].
$$
Этот многочлен не тождественный 0, так как существует коэффициент $\left(\frac{\partial f}{\partial y_j}\right)^{(j+d - l)}(b)$, не равный 0, а $C_n^{j+d - l }$~---линейно независимые многочлены от $n$, степени не больше $d$. Однако, если существует бесконечно много $n$, что $\mathbf{V}_{d,i}^n\subseteq \mathbf{V}(g_{d,n})$, следовательно при каждом таком $n_0$ многочлен $g_{d,n_0}(b)$ равен 0. Т.е. $g_{d,n}(b)$ имеет бесконечно много корней, что противоречит,что $g_{d,n}(b)$ не равен тождественно 0.
\end{remark}

\begin{definition}
Цепочкой будем называть последовательность многообразий, каждое  из которых, кроме первого, является наследником предыдущего.
\end{definition}

\begin{lemma}\label{lemma:o_konechnosti_cepochek}
Любая цепочка, начинающаяся с ${V}_{d,k}^{n}$ состоит не более чем из  $d+1$ члена, включая ${V}_{d,k}^{n}$.
\end{lemma}

\begin{proof}
Предположим, что  существует цепочка более чем из $d+1$ члена. Рассмотрим первые $d+2$  члена в ней. Пусть $a$ их общая точка. Тогда не нулевой многочлен $g_{d,n}(a)$ степени не более $d$ имеет минимум $d+1$  корень (в силу определения наследования и функции $\psi$), пришли к противоречию.
\end{proof}


\begin{remark}\label{remark:o_syshestvovvanii reshenia c zadannoi glubinoi}
Итак, мы знаем, что если $\mathbf{V}_f\neq\emptyset$, то для любого $b\in\mathbf{V}_f$ определено понятие глубины. Покажем, что мы можем определить : существует ли решение системы (1) с заданной глубиной $k$.

Зададимся числом $n_0\geqslant\max\{ 2p+1,\ord{h},\ord{f}\}$. Рассмотрим все $\mathbf{V}_{k,i}^{n_0}$ из $V_k^{n_0}$  и для каждого вычислим $a_i=\psi(\mathbf{V}_{k,i}^{n_0},g_{k,n})$. Мы знаем, что если $a_j\leqslant n_0$, то по теореме~\ref{theorem:general th1} существуют точки из $\mathbf{V}_{k,j}^{n_0}$, которые продолжаются до формального решения системы (1). Предположим, все $a_j>n_0$, тогда найдём максимальное из них $n_1$ (по замечанию~\ref{remark:o_konechnosti_psi} каждое $a_i$ конечно) и повторим процедуру для многообразий $\mathbf{V}_{k,i}^{n_1}$. И так далее. Таким образом мы построим последовательность чисел $n_0,n_1,n_2,\ldots$.

Докажем, что эта цепочка конечна, а именно, что в ней не больше $k+1$ члена. Рассмотрим произвольное $\mathbf{V}_{k,i_{k+1}}^{n_{k+1}}$  и найдём $\mathbf{V}_{k,i_{k}}^{n_{k}}\supseteq \mathbf{V}_{k,i_{k+1}}^{n_{k+1}}$ . Последовательно построим $\mathbf{V}_{k,i_{l}}^{n_{l}}\supseteq \mathbf{V}_{k,i_{l+1}}^{n_{l+1}}$ при $l\geqslant 0$. Мы получили цепочку многообразий
$$
\mathbf{V}_{k,i_{0}}^{n_{0}}\supseteq\ldots\supseteq \mathbf{V}_{k,i_{k+1}}^{n_{k+1}}.
$$
   Как мы знаем, что из условия $\mathbf{V}_{k,i}^n \not\subseteq \mathbf{V}(G_k)$ следует, что существует точка $b\in \mathbf{V}_{k,i_{k+1}}^{n_{k+1}}$ такая, что хотя бы один из многочленов $\left\{\left(\frac{\partial f}{\partial y_0}\right)^{(k-l)},\ldots, \left(\frac{\partial f}{\partial y_l}\right)^{(k)} \right\}$ не равен 0 в точке $b$.Рассмотрим многочлен от $n$
$$
g_{k,n}(b)=\sum\limits_{j=0}^{l}C_n^{j+k - l }\left(\frac{\partial f}{\partial y_j}\right)^{(j+k - l)}(b)\in K[n].
$$
Это ненулевой многочлен. Из построения множеств $\mathbf{V}_{k,i_{0}}^{n_{0}},\ldots, \mathbf{V}_{k,i_{k+1}}^{n_{k+1}}$ следует, что на промежутках $$[n_0,n_1],[n_1,n_2],\ldots,[n_k,n_{k+1}]$$
многочлен имеет корень, а степень его не выше $k$. Мы пришли к противоречию, следовательно наша последовательность  $n_0,n_1,n_2,\ldots$ имеет не более $k$ членов. Тогда посмотрим почему мы могли остановиться при построении нашей последовательности:

\begin{enumerate}
  \item Все построенные вновь $\mathbf{V}_{k,i}^{n_j}$ пустые.
  \item Нашёлся $\mathbf{V}_{k,m}^{n_j}$ такой, что $ \psi(g_{k,n},\mathbf{V}_{k,m}^{n_j})\leqslant n_j$.
\end{enumerate}

Мы знаем, что если выполнено 2, то существуют точки из $\mathbf{V}_{k,m}^{n_j}$, которые продолжаются до формального решения системы (1). То, что нам и надо. Если выполнено первое, то из~\ref{remark:o_sushestvovanii_gllubiny} следует, что нет решений системы (1)  с глубиной $k$. Так как если бы они были, то для любого $n$ на нашлось бы непустое $\mathbf{V}_{k,m}^{n}$ содержащее данное решение.

Осталось заметить, что так как глубина решения не может превосходить $p$, то для проверки $[f]+(S_f)=1$ нам нужно проверить существование решений всех глубин не больших $p$. Если не нашлось ни для какой глубины решения, то $[f]+(S_f)=1$, иначе $[f]+(S_f)\neq1$.
\end{remark}

{\bf Вход:} $K\{y\}$~--- кольцо дифференциальных многочленов, где $K$ является алгеброй Ритта, континуальной мощности, $f,h\in K{y}$ с условием $[f,g]=1$.

{\bf Выход:} TRUE, если  $[f]+(g)=(1)$, и FALSE, если не $[f]+(g)\not=(1)$.
\\
1.\qquad If $[f,g]\not=(1)$, Return  INCORRECT DATA;\\
2.\qquad Find $p,w\in \mathbb{N}$ such that $(f,\ldots,f^{(w)},S_f,\ldots,S_f^{(p)})=(1)$;\\
3.\qquad For all $k\leqslant p$\\
4.\qquad\qquad Let $n_0:=\max\{ 2p+1,\ord{h},\ord{f}\}$;\\
5.\qquad\qquad $g_{k,n}:=\sum\limits_{j=0}^{l}C_n^{j+k - l }\left(\frac{\partial f}{\partial y_j}\right)^{(j+k - l)}$;\\
6.\qquad\qquad While($n_0\not=\infty$)\\
7.\qquad\qquad\qquad If $V_k^{n_0}=\emptyset$, BREAK;\\
8.\qquad\qquad\qquad Let $A:=\emptyset$;\\
9.\qquad\qquad\qquad For all $\mathbf{V}_{k,i}^{n_0}\in V_k^{n_0}$\\
10.\qquad\qquad\qquad\qquad $a_i=\psi(\mathbf{V}_{k,i}^{n_0},g_{k,n})$;\\
11.\qquad\qquad\qquad\qquad If $a_i\leqslant n_0$, Return FALSE;\\
12.\qquad\qquad\qquad\qquad $A=A\cup\{a_i\}$;\\
13.\qquad\qquad\qquad $n_0=\max\{A\}$;\\
14.\qquad Return TRUE;

Множество $V_k^{n}$ определено в начале раздела, многообразиям $\mathbf{V}_{k,i}^{n}$ соответствуют радикальные идеалы $R_{k,i}^{n}$, являющиеся примарными компонентами идеала $S_k^n$, т.е. вычислимы образующие этих идеалов. 
Функция $\psi(\mathbf{V}_{k,i}^{n_0},g_{k,n})$ вычислима в силу замечания~\ref{remark:o vlojenii} и леммы~\ref{lemma:o_ravenste_psi}.
\section{Примеры}


\begin{example}
 Рассмотрим многочлен $f= -y_1^2+ay_1^2y+byy_1+c$.
Все параметры не равны 0. При каких значениях параметров выполнено,
что $[f]+S_f=1$?

$S_f=-2y_1+2ay_1y+by$;
\\
$f^{(1)}=(-2y_1+2ay_1y+by)y_2+(ay_1^2+by_1)y_1$;
\\
$f^{(2)}=(-2y_1+2ay_1y+by)y_3+(-2y_2+2ay_2y+5ay_1^2+3by_1)y_2=(-2y_1+2ay_1y+by)y_3+((-2+2ay)y_2+2ay_1^2)y_2+3(ay_1^2+by_1)y_2 $.

Для начала нам надо понять при каких значениях параметров выполнено
$[f,S_f]=1$. Последнее означает отсутствие дифференциальных решений
у системы $f=0, S_f=0$. Давайте попробуем найти хоть какие-нибудь решения.
Если $y_1=0$, то из $S_f=0, f=0$ следует, что $y=0, c =0$, что
противоречит тому, что параметры не равны 0. Следовательно при
$y_1=0$ решений вообще нет. 

Пусть $y_1\not=0$, тогда из системы $f^{(1)}=0, S_f=0$
следует, что $by_1+ay_1^2=0\Longrightarrow y_1=-\frac{b}{a}$ Т.е.
$y_1$ всегда константа, не равная 0. Подставляем в $S_f$ $y_1=-\frac{b}{a}$ и
получаем $2\frac{b}{a}-by=0$. Отсюда следует, что и $y$ всегда
константа $\Rightarrow [f,S_f]=1 $.
 
 Подставим теперь $y_1$ в $f=0$ и получим, что $-\frac{b^2}{a^2}+c=0$.
Следовательно если это не выполнено, то система $f=f^{(1)}=S_f=0$ не
совместна, а следовательно $[f]+S_f=1$. Докажем теперь, что если это
выполнено, то $[f]+S_f\not=1$

Найдём $p$ и $w$ для нашего многочлена. Для этого найдём $
S_f^{(1)}=(-2+2ay)y_2+by_1+2ay_1^2$. Подставляя в уравнение $
S_f^{(1)}=0$ найденные нами $y,y_1$ получаем $ 2y_2+\frac{b^2}{a}=0$.С учётом уравнения $f^{(2)}=0$ получаем, что $\left(f,f^{(1)},f^{(2)},S_f, S_f^{(1)}\right)=1\Rightarrow p=1,w=2\ord{h}=0,\ord{f}=1$, т.е. начальное $n$  мы можем брать начиная с 3.

Решений уровня 0 быть не может, так как $\mathbf{U}_0^n = \mathbf{V}(h=S_f,f,\ldots f^{(n)})\subseteq\mathbf{V}(G_0=S_f)$.

Ищем решения уровня 1. Рассмотрим $g_{1,n}=nS_f^{(1)}+(\frac{\partial f}{\partial y})$. Отметим, что из равенства $f^{(1)}=(-2y_1+2ay_1y+by)y_2+(ay_1^2+by_1)y_1$ следует, что $\frac{\partial f}{\partial y} \in f+f^{(1)}+S_f$. 
  $$
  \psi( g_{1,n},\mathbf{V}_{1,i}^3)=\psi( nS_f^{(1)}+(\frac{\partial f}{\partial y}),\mathbf{V}_{1,i}^3)=\psi( nS_f^{(1)},\mathbf{V}_{1,i}^3).
  $$
Последнее равенство верно в силу того, что если $\mathbf{V}_{1,i}^3\subseteq \mathbf{V}(nS_f^{(1)}+(\frac{\partial f}{\partial y}))\Leftrightarrow \mathbf{V}_{1,i}^3\subseteq \mathbf{V}(nS_f^{(1)})$, так как $\mathbf{V}_{1,i}^n\subseteq \mathbf{U}_k^n=\mathbf{V}(S_f,f,\ldots,f^{n})$. А $\psi( nS_f^{(1)},\mathbf{V}_{1,i}^3)= 0<3$ так как $\left(f,f^{(1)},f^{(2)},S_f, S_f^{(1)}\right)=1$. Мы получили, что решения уровня один существуют, значит $[f]+S_f=1\Leftrightarrow -\frac{b^2}{a^2}+c=0$.



\end{example}



\begin{example}
 Теперь рассмотрим многочлен $f =
(y_1-a)^2+by^4y_1^2$. Коэффициенты не равны 0.

$S_f=2(y_1-a)+2by^4y_1$;
\\
$f^{(1)}=(2(y_1-a)+2by^4y_1)y_2+4by^3y_1^3$

Рассмотрим систему уравнений $f=S_f=f^{(1)}=0$. Из второго и
третьего уравнения вытекает, что $y^3y_1^3=0$. Подставляя в первое
получаем, что $y_1=a, y=0$, что означает отсутствие дифференциальных
решений системы $f=S_f=0$, т.е.$[f,S_f]=1$.

Найдём теперь  $p$ для нашего многочлена $f$. Для этого рассмотрим
систему $f=S_f=(S_f)^{(1)}=(S_f)^{(2)}=f^{(1)}=f^{(2)}=f^{(3)}=f^{(4)}=0$. Эта система оказывается несовместной. Следовательно,
$p=2,w=4\ord{h}=1,\ord{f}=1$. Начальное $n$  можно брать равным 4.

Рассмотрим систему $f=S_f=f^{(1)}=f^{(2)}=f^{(3)}=f^{(4)}=0$, из неё мы получим, что $y=0,y_1=a,y_2=0,y_3=\pm2ib^{-1/2}a^3$, другими словами, это $\Pi_3(\mathbf{V}_{4,f}$. 
Как и в предыдущем примере искать решения глубины 0 не имеет смысла, так как $\mathbf{U}_0^n = \mathbf{V}(h=S_f,f,\ldots f^{(n)})\subseteq\mathbf{V}(G_0=S_f)$.  Решения глубины 1. $g_{1,n}=C_n^1(S_f)^{(1)}+\frac{\partial f}{\partial y}=n(y_2+by_2y^4+4by_1^2y^3)+4by^3y_1^3\Rightarrow g_{1,n}\in\sqrt{S_1^n}$ (проверяется подстановкой найденных значений в $g_{1,n}$).  Таким образом решений глубины 1 тоже нет.

Переходим к поиску решений глубины 3. Рассмотрим $$g_{2,n}=C_n^2(S_f)^{(2)}+C_n^1\left(\frac{\partial
f}{\partial
y}\right)^{(1)}=C_n^2(2y_3+2by^4y_3+8by_1^2y^4)+C_n^1(12by^2y_1^3+8by^3y_1y_2).$$
Если мы подставим сюда найденные нами точки, то получим, что
$\psi(g_{2,n},\mathbf{V}_{2,i}^4)= 1 <4\Leftrightarrow [f]+S_f\not=1.$


\end{example}

\begin{example}
Дан многочлен $f=(y_2-\frac{49}{3})^2-\frac{49}{3}y_1+y$.
\\
$S_f=2(y_2-\frac{49}{3})$;
\\
$f^{(1)}=2(y_2-\frac{49}{3})y_3-\frac{49}{3}y_2+y_1$;
\\
$f^{(2)}=2(y_2-\frac{49}{3})y_4+(2y_3-\frac{49}{3})y_3+y_2$;
\\
$(S_f)^{(1)}=2y_3$;

Решая систему $f=f^{(1)}=f^{(2)}=S_f=(S_f)^{(1)}=0$ приходим к тому,
что она не совместна, следовательно $[f,S_f]=1$ и  для нашего
уравнения $p=1,w=2\ord{h}=2,\ord{f}=2$, т.е. $n$  можно брать начиная с $3$. Построим $\mathbf{V}_{1,i}^3$ для нашего случая. После вычислений получаем: 
\begin{gather*}
\Pi_{4}(\mathbf{V}_{1,1}^3)=\left(\frac{117649}{27},\frac{2401}{9},\frac{49}{3},7,\frac{-3}{11}\right),
\Pi_{4}(\mathbf{V}_{1,2}^3)=\left(\frac{117649}{27},\frac{2401}{9},\frac{49}{3},\frac{7}{6},\frac{1}{8}\right)
\end{gather*}

Ищем решение уровня 1. Мы знаем, что $g_{1,n}=2ny_3-\frac{49}{3}$, тогда $\psi(g_{1,n},\Pi_{4}(\mathbf{V}_{1,1}^3))=-\infty$, а $\psi(g_{1,n},\Pi_{4}(\mathbf{V}_{1,2}^3))=7$. Отсюда следует, что $[f]+S_f\not=1$. Отметим, что точка $\left(\frac{117649}{27},\frac{2401}{9},\frac{49}{3},\frac{7}{6},\frac{1}{8}\right)$ не продолжается до решения.  А так как продолжение первой точки происходит однозначно и единственно, то это значит что идеал $[f]+S_f$ максимальный и не равен единичному.


\end{example}







\begin{thebibliography}{99}

\bibitem{E. R. Kolchin}
E. R. Kolchin.
\emph{On the Exponents of Differential Ideals.}
The Annals of Mathematics, Second Series, Volume 42, Issue 3 (Jul., 1941), 740-777.

\bibitem{Cox}
Д. Кокс, Д. Литтл, Д. О'Ши.
\emph{Идеалы, многообразия и алгоритмы.}
М., <<Мир>>, 2000.
\bibitem{Trushin}
Д.В.Трушин.
\emph{Идеал сепарант в кольце дифференциальных многочленов.}
Фундаментальная и прикладная математика, том 13, вып 1, стр.215-227(2007).
\bibitem{Hartshorn}
Р.Хартсхорн.
\emph{Алгебраическая геометрия}
М., <<Мир>>
\bibitem{Matsumura}
\emph{<<Commutative algebra>>}
<<Benjamin/Cummings>>,1980
\bibitem{Ferro Theorem 2}
Carr a Ferro G.,
\emph{ Diferential Gr\"{o}bner Bases in One Variable and in the Partial Case},
Math. Comput. Modelling, Pergamon Press, vol. 25, 1-10, 1997.
\bibitem{Kolchin 2}
E.R. Kolchin ,
\emph{ Differential algebra and algebraic groups}, Academic Press, New York and London, 1973.
\end{thebibliography}
\end{document}
\begin{definition}
\end{definition}
